{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/data.service\";\nimport * as i2 from \"@angular/common\";\nfunction FilterComponent_button_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 2);\n    i0.ɵɵlistener(\"click\", function FilterComponent_button_0_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.showFilterOptions = true);\n    });\n    i0.ɵɵtext(1, \" Filter by skills\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction FilterComponent_div_1_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"input\", 5);\n    i0.ɵɵlistener(\"click\", function FilterComponent_div_1_div_1_Template_input_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r8);\n      const filter_r6 = restoredCtx.$implicit;\n      const ctx_r7 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r7.toggleFilterActive(filter_r6));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(2, \"label\", 6);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const filter_r6 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"id\", filter_r6.value)(\"checked\", filter_r6.active);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"htmlFor\", filter_r6.value);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(filter_r6.value);\n  }\n}\nfunction FilterComponent_div_1_button_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 7);\n    i0.ɵɵlistener(\"click\", function FilterComponent_div_1_button_2_Template_button_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r11);\n      const filter_r9 = restoredCtx.$implicit;\n      const ctx_r10 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r10.toggleFilterActive(filter_r9));\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const filter_r9 = ctx.$implicit;\n    i0.ɵɵproperty(\"ngClass\", filter_r9.active ? \"filter-active\" : \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"\\n\", filter_r9.value, \" \");\n  }\n}\nfunction FilterComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r13 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, FilterComponent_div_1_div_1_Template, 4, 4, \"div\", 3);\n    i0.ɵɵtemplate(2, FilterComponent_div_1_button_2_Template, 2, 2, \"button\", 4);\n    i0.ɵɵelementStart(3, \"button\", 2);\n    i0.ɵɵlistener(\"click\", function FilterComponent_div_1_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r13);\n      const ctx_r12 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r12.filter());\n    });\n    i0.ɵɵtext(4, \" Apply filters\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"button\", 2);\n    i0.ɵɵlistener(\"click\", function FilterComponent_div_1_Template_button_click_5_listener() {\n      i0.ɵɵrestoreView(_r13);\n      const ctx_r14 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r14.showFilterOptions = false);\n    });\n    i0.ɵɵtext(6, \" Close\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"button\", 2);\n    i0.ɵɵlistener(\"click\", function FilterComponent_div_1_Template_button_click_7_listener() {\n      i0.ɵɵrestoreView(_r13);\n      const ctx_r15 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r15.clearFilters());\n    });\n    i0.ɵɵtext(8, \"Clear filters\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.availableFilters);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.availableFilters);\n  }\n}\nexport class FilterComponent {\n  constructor(dataService) {\n    this.availableFilters = [{\n      value: 'technical',\n      active: false\n    }, {\n      value: 'organisation',\n      active: false\n    }, {\n      value: 'team work',\n      active: false\n    }, {\n      value: 'problem solving',\n      active: false\n    }, {\n      value: 'time management',\n      active: false\n    }];\n    this._activeFilters = [];\n    this.showFilterOptions = false;\n    this._dataService = dataService;\n  }\n  toggleFilterActive(filter) {\n    filter.active = !filter.active;\n    if (filter.active) {\n      this._activeFilters.push(filter.value);\n    } else {\n      this._activeFilters = this._activeFilters.filter(value => value !== filter.value);\n    }\n  }\n  filter() {\n    this._dataService.filterData(this._activeFilters);\n    this.showFilterOptions = false;\n  }\n  clearFilters() {\n    this._activeFilters = [];\n    this.availableFilters.forEach(filter => filter.active = false);\n    this.filter();\n  }\n}\nFilterComponent.ɵfac = function FilterComponent_Factory(t) {\n  return new (t || FilterComponent)(i0.ɵɵdirectiveInject(i1.DataService));\n};\nFilterComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: FilterComponent,\n  selectors: [[\"app-filter\"]],\n  decls: 2,\n  vars: 2,\n  consts: [[3, \"click\", 4, \"ngIf\"], [4, \"ngIf\"], [3, \"click\"], [4, \"ngFor\", \"ngForOf\"], [\"class\", \"filter-button\", 3, \"ngClass\", \"click\", 4, \"ngFor\", \"ngForOf\"], [\"type\", \"checkbox\", 3, \"id\", \"checked\", \"click\"], [3, \"htmlFor\"], [1, \"filter-button\", 3, \"ngClass\", \"click\"]],\n  template: function FilterComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, FilterComponent_button_0_Template, 2, 0, \"button\", 0);\n      i0.ɵɵtemplate(1, FilterComponent_div_1_Template, 9, 2, \"div\", 1);\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", !ctx.showFilterOptions);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.showFilterOptions);\n    }\n  },\n  dependencies: [i2.NgClass, i2.NgForOf, i2.NgIf],\n  styles: [\".filter-active[_ngcontent-%COMP%] {\\n  color: red;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvZmlsdGVyL2ZpbHRlci5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsVUFBVTtBQUNaIiwic291cmNlc0NvbnRlbnQiOlsiLmZpbHRlci1hY3RpdmUge1xuICBjb2xvcjogcmVkO1xufVxuIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":";;;;;;IAAAA,iCAAoE;IAAjCA;MAAAA;MAAA;MAAA,iDAA2B,IAAI;IAAA,EAAC;IAAEA,iCAAgB;IAAAA,iBAAS;;;;;;IAE5FA,2BAA6C;IAC2BA;MAAA;MAAA;MAAA;MAAA,OAASA,mDAA0B;IAAA,EAAC;IAA1GA,iBAA4G;IAC5GA,gCAAgC;IAAAA,YAAgB;IAAAA,iBAAQ;;;;IADhCA,eAAmB;IAAnBA,oCAAmB;IACpCA,eAAwB;IAAxBA,yCAAwB;IAACA,eAAgB;IAAhBA,qCAAgB;;;;;;IAGlDA,iCAEwB;IADhBA;MAAA;MAAA;MAAA;MAAA,OAASA,oDAA0B;IAAA,EAAC;IAE9CA,YACE;IAAAA,iBAAS;;;;IAJuCA,iEAA+C;IAGjGA,eACE;IADFA,iDACE;;;;;;IAVFA,2BAA+B;IAC7BA,sEAGM;IAENA,4EAIS;IAETA,iCAA2B;IAAnBA;MAAAA;MAAA;MAAA,OAASA,+BAAQ;IAAA,EAAC;IAAEA,8BAAa;IAAAA,iBAAS;IAClDA,iCAA2C;IAAnCA;MAAAA;MAAA;MAAA,kDAA2B,KAAK;IAAA,EAAC;IAAGA,sBAAK;IAAAA,iBAAS;IAC1DA,iCAAiC;IAAzBA;MAAAA;MAAA;MAAA,OAASA,qCAAc;IAAA,EAAC;IAACA,6BAAa;IAAAA,iBAAS;;;;IAb/BA,eAAmB;IAAnBA,iDAAmB;IAKhBA,eAAmB;IAAnBA,iDAAmB;;;ACGhD,OAAM,MAAOC,eAAe;EAY1BC,YAAYC,WAAwB;IAV7B,qBAAgB,GAAmB,CACxC;MAACC,KAAK,EAAE,WAAW;MAAEC,MAAM,EAAE;IAAK,CAAC,EACnC;MAACD,KAAK,EAAE,cAAc;MAAEC,MAAM,EAAE;IAAK,CAAC,EACtC;MAACD,KAAK,EAAE,WAAW;MAAEC,MAAM,EAAE;IAAK,CAAC,EACnC;MAACD,KAAK,EAAE,iBAAiB;MAAEC,MAAM,EAAE;IAAK,CAAC,EACzC;MAACD,KAAK,EAAE,iBAAiB;MAAEC,MAAM,EAAE;IAAK,CAAC,CAC1C;IACO,mBAAc,GAAkB,EAAE;IACnC,sBAAiB,GAAY,KAAK;IAGvC,IAAI,CAACC,YAAY,GAAGH,WAAW;EACjC;EAEOI,kBAAkB,CAACC,MAAe;IACvCA,MAAM,CAACH,MAAM,GAAG,CAACG,MAAM,CAACH,MAAM;IAC9B,IAAGG,MAAM,CAACH,MAAM,EAAE;MAChB,IAAI,CAACI,cAAc,CAACC,IAAI,CAACF,MAAM,CAACJ,KAAK,CAAC;KACvC,MACI;MACH,IAAI,CAACK,cAAc,GAAG,IAAI,CAACA,cAAc,CAACD,MAAM,CAAEJ,KAAa,IAAKA,KAAK,KAAII,MAAM,CAACJ,KAAK,CAAC;;EAE9F;EAEOI,MAAM;IACX,IAAI,CAACF,YAAY,CAACK,UAAU,CAAC,IAAI,CAACF,cAAc,CAAC;IACjD,IAAI,CAACG,iBAAiB,GAAG,KAAK;EAChC;EAEOC,YAAY;IACjB,IAAI,CAACJ,cAAc,GAAG,EAAE;IACxB,IAAI,CAACK,gBAAgB,CAACC,OAAO,CAAEP,MAAe,IAAKA,MAAM,CAACH,MAAM,GAAG,KAAK,CAAC;IACzE,IAAI,CAACG,MAAM,EAAE;EACf;;AAnCWP,eAAe;mBAAfA,eAAe;AAAA;AAAfA,eAAe;QAAfA,eAAe;EAAAe;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MDV5BpB,sEAA8F;MAC9FA,gEAeM;;;MAhBGA,6CAAwB;MAC3BA,eAAuB;MAAvBA,4CAAuB","names":["i0","FilterComponent","constructor","dataService","value","active","_dataService","toggleFilterActive","filter","_activeFilters","push","filterData","showFilterOptions","clearFilters","availableFilters","forEach","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["/Users/henrymarks/WebstormProjects/cvPage/src/app/filter/filter.component.html","/Users/henrymarks/WebstormProjects/cvPage/src/app/filter/filter.component.ts"],"sourcesContent":["<button *ngIf=\"!showFilterOptions\" (click)=\"showFilterOptions=true\"> Filter by skills</button>\n<div *ngIf=\"showFilterOptions\">\n  <div *ngFor=\"let filter of availableFilters\">\n    <input  type=\"checkbox\" [id]=\"filter.value\" [checked]=\"filter.active\" (click)=\"toggleFilterActive(filter)\" >\n    <label [htmlFor]=\"filter.value\">{{filter.value}}</label>\n  </div>\n\n  <button *ngFor=\"let filter of availableFilters\" [ngClass]=\"filter.active? 'filter-active' : ''\"\n          (click)=\"toggleFilterActive(filter)\"\n    class=\"filter-button\">\n{{filter.value}}\n  </button>\n\n  <button (click)=\"filter()\"> Apply filters</button>\n  <button (click)=\"showFilterOptions=false\" > Close</button>\n  <button (click)=\"clearFilters()\">Clear filters</button>\n</div>\n","import { Component } from '@angular/core';\nimport {DataService} from \"../services/data.service\";\nimport {Observable} from \"rxjs\";\nimport {IFilter, IProfile, ISectionData} from \"../interfaces/cv-interfaces\";\n\n@Component({\n  selector: 'app-filter',\n  templateUrl: './filter.component.html',\n  styleUrls: ['./filter.component.css']\n})\nexport class FilterComponent {\n  private _dataService: DataService;\n  public availableFilters: Array<IFilter> = [\n    {value: 'technical', active: false},\n    {value: 'organisation', active: false},\n    {value: 'team work', active: false},\n    {value: 'problem solving', active: false},\n    {value: 'time management', active: false},\n  ]\n  private _activeFilters: Array<string> = []\n  public showFilterOptions: boolean = false;\n\n  constructor(dataService: DataService) {\n    this._dataService = dataService\n  }\n\n  public toggleFilterActive(filter: IFilter): void {\n    filter.active = !filter.active;\n    if(filter.active) {\n      this._activeFilters.push(filter.value)\n    }\n    else {\n      this._activeFilters = this._activeFilters.filter((value: string) => value !==filter.value);\n    }\n  }\n\n  public filter(): void {\n    this._dataService.filterData(this._activeFilters)\n    this.showFilterOptions = false;\n  }\n\n  public clearFilters(): void {\n    this._activeFilters = [];\n    this.availableFilters.forEach((filter: IFilter) => filter.active = false);\n    this.filter()\n  }\n}\n\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}