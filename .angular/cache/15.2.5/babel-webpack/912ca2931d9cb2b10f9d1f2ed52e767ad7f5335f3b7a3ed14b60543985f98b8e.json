{"ast":null,"code":"import { startWith, Subject } from \"rxjs\";\nimport cvData from '../../cvData.json';\nimport * as i0 from \"@angular/core\";\nexport class DataService {\n  constructor() {\n    this.sectionData = [];\n    this._cvSectionSubject = new Subject();\n    this._cvData = cvData;\n    this.sectionData = this._cvData.sections;\n    this.cvSections$ = this._cvSectionSubject.asObservable().pipe(startWith(this.sectionData));\n    this._cvSectionSubject.next(this.sectionData);\n  }\n  getProfile() {\n    return this._cvData.profile;\n  }\n  fetchData() {\n    this._cvSectionSubject.next(this.sectionData);\n  }\n  filterData(filters) {\n    const filteredResults = this.sectionData.map(section => {\n      return {\n        sectionName: section.sectionName,\n        data: section.data.map(summary => {\n          return {\n            ...summary,\n            detailList: summary.detailList?.filter(detail => detail.tags.some(tag => filters.includes(tag)))\n          };\n        })\n      };\n    });\n    this._cvSectionSubject.next(filteredResults);\n  }\n}\nDataService.ɵfac = function DataService_Factory(t) {\n  return new (t || DataService)();\n};\nDataService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: DataService,\n  factory: DataService.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"mappings":"AACA,SAAoBA,SAAS,EAAEC,OAAO,QAAO,MAAM;AAEnD,OAAOC,MAAM,MAAM,mBAAmB;;AAQtC,OAAM,MAAOC,WAAW;EAOtBC;IANQ,gBAAW,GAAwB,EAAE;IACrC,sBAAiB,GAAiC,IAAIH,OAAO,EAAuB;IAM1F,IAAI,CAACI,OAAO,GAAGH,MAAM;IACrB,IAAI,CAACI,WAAW,GAAG,IAAI,CAACD,OAAO,CAACE,QAAQ;IACxC,IAAI,CAACC,WAAW,GAAG,IAAI,CAACC,iBAAiB,CAACC,YAAY,EAAE,CAACC,IAAI,CAACX,SAAS,CAAC,IAAI,CAACM,WAAW,CAAC,CAAC;IAC1F,IAAI,CAACG,iBAAiB,CAACG,IAAI,CAAC,IAAI,CAACN,WAAW,CAAC;EAE/C;EAEOO,UAAU;IACf,OAAO,IAAI,CAACR,OAAO,CAACS,OAAO;EAC7B;EAEOC,SAAS;IACd,IAAI,CAACN,iBAAiB,CAACG,IAAI,CAAC,IAAI,CAACN,WAAW,CAAC;EAC/C;EAEOU,UAAU,CAACC,OAAsB;IACtC,MAAMC,eAAe,GAAwB,IAAI,CAACZ,WAAW,CAACa,GAAG,CAAEC,OAAqB,IAAI;MAC1F,OAAO;QACLC,WAAW,EAAED,OAAO,CAACC,WAAW;QAChCC,IAAI,EAAEF,OAAO,CAACE,IAAI,CAACH,GAAG,CAAEI,OAAiB,IAAI;UAC3C,OAAO;YACL,GAAGA,OAAO;YACVC,UAAU,EAAED,OAAO,CAACC,UAAU,EAAEC,MAAM,CAAEC,MAAe,IAAKA,MAAM,CAACC,IAAI,CAACC,IAAI,CAAEC,GAAW,IAAKZ,OAAO,CAACa,QAAQ,CAACD,GAAG,CAAC,CAAC;WACrH;QACH,CAAC;OACF;IACH,CAAC,CAAC;IAEF,IAAI,CAACpB,iBAAiB,CAACG,IAAI,CAACM,eAAe,CAAC;EAG9C;;AAvCWf,WAAW;mBAAXA,WAAW;AAAA;AAAXA,WAAW;SAAXA,WAAW;EAAA4B,SAAX5B,WAAW;EAAA6B,YAFV;AAAM","names":["startWith","Subject","cvData","DataService","constructor","_cvData","sectionData","sections","cvSections$","_cvSectionSubject","asObservable","pipe","next","getProfile","profile","fetchData","filterData","filters","filteredResults","map","section","sectionName","data","summary","detailList","filter","detail","tags","some","tag","includes","factory","providedIn"],"sourceRoot":"","sources":["/Users/henrymarks/WebstormProjects/cvPage/src/app/services/data.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport {Observable, startWith, Subject} from \"rxjs\";\nimport {ICvData, IDetail, IProfile, ISectionData, ISummary} from \"../interfaces/cv-interfaces\";\nimport cvData from '../../cvData.json'\n\n\n\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class DataService {\n  private sectionData: Array<ISectionData> = []\n  private _cvSectionSubject: Subject<Array<ISectionData>> = new Subject<Array<ISectionData>>()\n  private _cvData: ICvData;\n\n  public cvSections$: Observable<Array<ISectionData>>\n\n  constructor() {\n    this._cvData = cvData;\n    this.sectionData = this._cvData.sections\n    this.cvSections$ = this._cvSectionSubject.asObservable().pipe(startWith(this.sectionData));\n    this._cvSectionSubject.next(this.sectionData)\n\n  }\n\n  public getProfile():  IProfile {\n    return this._cvData.profile\n  }\n\n  public fetchData(): void {\n    this._cvSectionSubject.next(this.sectionData)\n  }\n\n  public filterData(filters: Array<string>): void {\n    const filteredResults: Array<ISectionData> = this.sectionData.map((section: ISectionData) => {\n      return {\n        sectionName: section.sectionName,\n        data: section.data.map((summary: ISummary) => {\n          return {\n            ...summary,\n            detailList: summary.detailList?.filter((detail: IDetail) => detail.tags.some((tag: string) => filters.includes(tag)))\n          }\n        })\n      }\n    })\n\n    this._cvSectionSubject.next(filteredResults)\n\n\n  }\n\n\n\n\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}